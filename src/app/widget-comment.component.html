<!--Buttons to add new Comments-->
    <button
        pButton
        type="button"
        icon="fa-plus"
        label="Add New"
        [disabled]="addingNew"
        style="float: left; margin: 4px;"
        pTooltip="Add a new comment, on a new thread" 
        tooltipPosition="left" 
        tooltipEvent="hover"
        (click)="onClickAddNewThread()" 
        >
    </button> 

    <button
        pButton
        type="button"
        icon="fa-plus-square"
        label="Add to Thread"
        [disabled]="addingNew"
        style="float: right; margin: 4px;"
        pTooltip="Add a new comment, on a new thread" 
        tooltipPosition="left" 
        tooltipEvent="hover"
        (click)="onClickAddSameThread()" 
        >
    </button> 
<!--END Buttons to add new Comments-->

<!--Form to add a new Comment-->
<div
    class="addNewForm"
    *ngIf="addingNew"
    >
    <div>
        Lastest Comment : {{ lastWidgetComment }}
    </div>

    <div>
        <form 
            [formGroup]="userform" 
            (ngSubmit)="onSubmit(userform.value)"
            >
            <div 
                class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" 
                style="margin: 10px 0px"
                >
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Header :
                    </div>
                    <div class="ui-grid-col-8">
                        <input pInputText 
                            type="text" 
                            formControlName="commentheader" 
                            placeholder="Required"
                            autofocus
                            autocomplete="on"
                            />
                    </div>
                </div>
                    <div class="ui-grid-col-4"></div>
                    <div class="ui-grid-col-10">
                        <div class="ui-message 
                                    ui-messages-error 
                                    ui-corner-all" 
                                    *ngIf="!userform.controls['commentheader'].valid
                                        &&  userform.controls['commentheader'].dirty">
                            <i class="fa fa-close"></i>
                            <span *ngIf="userform.controls['commentheader'].errors['required']">
                                Header is required
                            </span>
                        </div>
                    </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Comment Body :
                    </div>
                    <div class="ui-grid-col-8">
                        <input pInputText 
                            type="text" 
                            formControlName="commentbody" 
                            placeholder="(Optional)"
                            />
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        <button 
                            pButton 
                            type="button" 
                            label="Cancel" 
                            icon="fa-undo"
                            pTooltip="Cancel adding a new comment" 
                            tooltipPosition="right" 
                            tooltipEvent="hover"
                            (click)="onClickCancel()"
                            >
                        </button>
                    </div>
                    <div class="ui-grid-col-4"></div>
                    <div class="ui-grid-col-4">
                        <button 
                            pButton 
                            type="submit" 
                            label="Submit" 
                            icon="fa-check"
                            pTooltip="Submit the input: please verify its correct!" 
                            tooltipPosition="right" 
                            tooltipEvent="hover"
                            [disabled]="!userform.valid"
                            >
                        </button>
                    </div>
                </div>
            </div>   
        </form> 
    </div>
</div>              <!--END Form to add a new Comment-->

<!--Panel with Comments-->
<div  
    *ngIf="!addingNew"
    >
    <div
        *ngFor="let w of widgetComments"
        >

        <p-panel
            class="panel"
            [toggleable]="true"
            [collapsed]="true"
            header={{w.widgetCommentCreatorUserID}},{{w.widgetCommentCreatedDateTime}}--{{w.widgetCommentHeading}}
            [style]="{
                        'margin':'0',
                        'padding':'0'
                    }"
            >
            {{ w.widgetCommentBody }}
            
        </p-panel>
    </div>
</div>              <!--END Panel with Comments-->


