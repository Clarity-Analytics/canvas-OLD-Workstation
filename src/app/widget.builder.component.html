

<!--Form to add a new Comment-->
<div
    *ngIf="addingNew"
    style="
           background-color: lightseagreen;
           margin: 0; 
           width: 1100px;
          "
    >

    <!--Buttons to add new Comments-->
        <button
            pButton
            type="button"
            icon="fa-plus"
            label="Cancel"
            style="float: left; margin: 4px;"
            pTooltip="Ignore all changes made" 
            tooltipPosition="left" 
            tooltipEvent="hover"
            (click)="addNewThread()" 
            >
        </button> 

        <button
            pButton
            type="button"
            icon="fa-plus-square"
            label="Save"
            style="float: right; margin: 4px;"
            pTooltip="Save the data" 
            tooltipPosition="left" 
            tooltipEvent="hover"
            (click)="addSameThread()" 
            >
        </button> 
    <!--END Buttons to add new Comments-->

    <div>
        <form 
            [formGroup]="userform" 
            (ngSubmit)="onSubmit(userform.value)"
            >
            <div 
                class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" 
                style="margin: 10px 0px"
                >
                <div class="SectionHeader ui-grid-row">
                    Container:
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Tab * 


                        <p-dropdown 
                            [options]="dashboardTabsDropDown" 
                            [style]="{
                                        'autofocus':'true',
                                        'background-color':'538cc6',
                                        'border':'1px solid #204060',
                                        'border-radius':'2px',
                                        'font-size':'0.85em',
                                        'margin-bottom':'4px',
                                        'margin-left':'4px',
                                        'padding':'0',
                                        'width':'147px'
                                    }" 
                            placeholder="Select a Tab"
                            editable="true"
                            >
                        </p-dropdown>

                    </div>
                    <div class="ui-grid-col-4">
                        Title <input type="text" />
                    </div>
                </div>

               <div class="SectionHeader ui-grid-row">
                   Data (Specify the report and parameters) :
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Name 


                        <p-dropdown 
                            [options]="dashboardTabsDropDown" 
                            [style]="{
                                        'autofocus':'true',
                                        'background-color':'538cc6',
                                        'border':'1px solid #204060',
                                        'border-radius':'2px',
                                        'font-size':'0.85em',
                                        'margin-bottom':'4px',
                                        'margin-left':'4px',
                                        'padding':'0',
                                        'width':'147px'
                                    }" 
                            placeholder="Select a Tab"
                            editable="true"
                            >
                        </p-dropdown>



                    </div>
                </div>

                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Parameters <input type="text" />
                    </div>
                    <div class="ui-grid-col-4">
                        Limit 

                        <p-spinner 
                            formControlName="reportparameters"
                            [min]="0" 
                            [max]="100"
                            >
                        </p-spinner>


                    </div>
                </div>

                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Add R-Row 

                        <p-checkbox 
                            name="groupname" 
                            value="val1" 
                            >
                        </p-checkbox>    


                    </div>
                <div class="ui-grid-row">
                        Use existing presentation or create a new Widget?
                        <p-toggleButton 
                            onLabel="Use" 
                            offLabel="New" 
                            [style]="{
                                        'border':'1px solid darkgray',
                                        'border-radius':'2px',
                                        'height': '2em',
                                        'margin': '0px',
                                        'padding':'0px',
                                        'width':'50px'
                                    }"                     
                            >
                        </p-toggleButton>
                    </div>


                </div>

                <!--Use existing presentations-->
                <div>
                    <p-dropdown 
                        [options]="dashboardTabsDropDown" 
                        [style]="{
                                    'autofocus':'true',
                                    'background-color':'538cc6',
                                    'border':'1px solid #204060',
                                    'border-radius':'2px',
                                    'font-size':'0.85em',
                                    'margin-bottom':'4px',
                                    'margin-left':'4px',
                                    'padding':'0',
                                    'width':'147px'
                                }" 
                        placeholder="Select a Tab"
                        editable="true"
                        >
                    </p-dropdown>
                    <div class="ui-grid-col-4">
                        Parameters <input type="text" />
                    </div>
                </div>

                <!--Create new Widget, for this Dashboard only-->
                <div>
                    <div class="SectionHeader ui-grid-row">
                    Graph Type:
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4">
                            Type 


                            <p-dropdown 
                                [options]="dashboardTabsDropDown" 
                                [style]="{
                                            'autofocus':'true',
                                            'background-color':'538cc6',
                                            'border':'1px solid #204060',
                                            'border-radius':'2px',
                                            'font-size':'0.85em',
                                            'margin-bottom':'4px',
                                            'margin-left':'4px',
                                            'padding':'0',
                                            'width':'147px'
                                        }" 
                                placeholder="Select a Tab"
                                editable="true"
                                >
                            </p-dropdown>


                        </div>
                        <div class="ui-grid-col-4">
                            <img 
                                src="../assets/StackedBar.png" 
                                alt="Stacked Bar" 
                                style="width:60px;height:45px;"
                                >
                        </div>
                    </div>
                    <div class="SectionHeader ui-grid-row">
                    Graph Identification and Description:
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4">
                            Code <input type="text" />
                        </div>
                        <div class="ui-grid-col-4">
                            Name <input type="text" />
                        </div>

                    </div>

                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4">
                            Description <input type="text" />
                        </div>
                    </div>
                    <div class="ui-grid-col-4">
                        Exprt Type <input type="text" />
                    </div>
                </div>




                
                <div class="SectionHeader ui-grid-row">
                   Widget behaviour & treatment:
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Password <input type="text" />
                    </div>
                </div>

                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Hypr Tab <input type="text" />
                    </div>
                    <div class="ui-grid-col-4">
                        Hypr Widget <input type="text" />
                    </div>
                    <div class="ui-grid-col-4">
                        Liked By Others - readonly
                    </div>
                </div>

                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Refr. Freq <input type="text" />
                    </div>
                    <div class="ui-grid-col-4">
                        Refr. Mode <input type="text" />
                    </div>
                </div>




                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Header *:
                    </div>
                    <div class="ui-grid-col-8">
                        <input pInputText 
                            type="text" 
                            formControlName="commentheader" 
                            placeholder="Required"
                            autofocus
                            autocomplete="on"/>
                    </div>
                </div>
                    <div class="ui-grid-col-4"></div>
                    <div class="ui-grid-col-10">
                        <div class="ui-message 
                                    ui-messages-error 
                                    ui-corner-all" 
                                    *ngIf="!userform.controls['commentheader'].valid
                                        &&  userform.controls['commentheader'].dirty">
                            <i class="fa fa-close"></i>
                            <span *ngIf="userform.controls['commentheader'].errors['required']">
                                Header is required
                            </span>
                        </div>
                    </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        Comment Body :
                    </div>
                    <div class="ui-grid-col-8">
                        <input pInputText 
                            type="text" 
                            formControlName="commentbody" 
                            placeholder="Optional body"/>
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-4">
                        <button 
                            pButton 
                            type="button" 
                            label="Cancel" 
                            icon="fa-undo"
                            pTooltip="Cancel adding a new comment" 
                            tooltipPosition="right" 
                            tooltipEvent="hover"
                            (click)="cancel()"
                            >
                        </button>
                    </div>
                    <div class="ui-grid-col-4"></div>
                    <div class="ui-grid-col-4">
                        <button 
                            pButton 
                            type="submit" 
                            label="Submit" 
                            icon="fa-check"
                            pTooltip="Submit the input: please verify its correct!" 
                            tooltipPosition="right" 
                            tooltipEvent="hover"
                            [disabled]="!userform.valid"
                            >
                        </button>
                    </div>
                </div>
            </div>   
        </form> 
    </div>
</div>              <!--END Form to add a new Comment-->

<!--Panel with Comments-->
<div  
    *ngIf="!addingNew"
    >
    <div
        *ngFor="let w of widgetComments"
        >

        <p-panel
            class="panel"
            [toggleable]="true"
            [collapsed]="true"
            header={{w.widgetCommentCreatorUserID}},{{w.widgetCommentCreateDateTime}}--{{w.widgetCommentHeading}}
            [style]="{
                        'margin':'0',
                        'padding':'0'
                    }"
            >
            {{ w.widgetCommentBody }}
            
        </p-panel>
    </div>
</div>              <!--END Panel with Comments-->


